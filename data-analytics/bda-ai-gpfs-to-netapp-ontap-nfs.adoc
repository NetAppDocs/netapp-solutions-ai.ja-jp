---
sidebar: sidebar 
permalink: data-analytics/bda-ai-gpfs-to-netapp-ontap-nfs.html 
keywords: GPFS, nfs, nsd, admin node, quorum node, manager node, nsd server, protocol node 
summary: 'この検証では、GPFS に物理ディスクを提供するために、4 台のサーバーをネットワーク共有ディスク (NSD) サーバーとして使用しました。下の図に示すように、GPFS は NSD ディスク上に作成され、NFS エクスポートとしてエクスポートされるため、NFS クライアントがアクセスできるようになります。  XCP を使用して、GPFS でエクスポートされた NFS からNetApp NFS ボリュームにデータをコピーしました。' 
---
= GPFS からNetApp ONTAP NFS へ
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
この検証では、GPFS に物理ディスクを提供するために、4 台のサーバーをネットワーク共有ディスク (NSD) サーバーとして使用しました。下の図に示すように、GPFS は NSD ディスク上に作成され、NFS エクスポートとしてエクスポートされるため、NFS クライアントがアクセスできるようになります。  XCP を使用して、GPFS でエクスポートされた NFS からNetApp NFS ボリュームにデータをコピーしました。

image:bda-ai-005.png["入出力ダイアログまたは書かれたコンテンツを示す図"]



== GPFSの基本

GPFS では次のノード タイプが使用されます。

* *管理ノード*ノード間の通信に管理コマンドによって使用されるノード名を含むオプション フィールドを指定します。たとえば、管理ノード `mastr-51.netapp.com`クラスター内の他のすべてのノードにネットワーク チェックを渡すことができました。
* *クォーラムノード*クォーラムの派生元となるノードのプールにノードが含まれるかどうかを決定します。クォーラム ノードとして少なくとも 1 つのノードが必要です。
* *マネージャーノード*ノードが、ファイル システム マネージャーおよびトークン マネージャーを選択できるノード プールの一部であるかどうかを示します。複数のノードをマネージャー ノードとして定義することをお勧めします。マネージャーとして指定するノードの数は、ワークロードと保有する GPFS サーバー ライセンスの数によって異なります。大規模な並列ジョブを実行している場合は、Web アプリケーションをサポートする 4 ノード クラスターよりも多くのマネージャー ノードが必要になることがあります。
* *NSD サーバー*  GPFS で使用するために各物理ディスクを準備するサーバー。
* *プロトコル ノード*任意の Secure Shell (SSH) プロトコルを介して NFS と直接 GPFS データを共有するノード。このノードには GPFS サーバー ライセンスが必要です。




== GPFS、NFS、XCP の操作リスト

このセクションでは、GPFS を作成し、GPFS を NFS エクスポートとしてエクスポートし、XCP を使用してデータを転送する操作のリストを示します。



=== GPFSを作成する

GPFS を作成するには、次の手順を実行します。

. サーバーの 1 つに、Linux バージョンの Spectrum-Scale Data Access をダウンロードしてインストールします。
. すべてのノードに前提条件パッケージ (chef など) をインストールし、すべてのノードで Security-Enhanced Linux (SELinux) を無効にします。
. インストール ノードをセットアップし、管理ノードと GPFS ノードをクラスター定義ファイルに追加します。
. マネージャー ノード、クォーラム ノード、NSD サーバー、および GPFS ノードを追加します。
. GUI、管理、GPFS ノードを追加し、必要に応じて追加の GUI サーバーを追加します。
. 別の GPFS ノードを追加し、すべてのノードのリストを確認します。
. クラスター定義ファイルで、すべての GPFS ノードに設定するクラスター名、プロファイル、リモート シェル バイナリ、リモート ファイル コピー バイナリ、およびポート範囲を指定します。
. GPFS 構成設定を表示し、追加の管理ノードを追加します。
. データ収集を無効にして、データ パッケージを IBM サポート センターにアップロードします。
. インストール前に NTP を有効にして構成を事前チェックします。
. NSD ディスクを構成、作成、および確認します。
. GPFSを作成
. GPFS をマウントします。
. GPFS に必要な権限を確認して提供します。
. GPFSの読み取りと書き込みを確認するには、 `dd`指示。




=== GPFSをNFSにエクスポートする

GPFS を NFS にエクスポートするには、次の手順を実行します。

. GPFSをNFSとしてエクスポートする `/etc/exports`ファイル。
. 必要な NFS サーバー パッケージをインストールします。
. NFS サービスを開始します。
. NFS クライアントを検証するために、GPFS 内のファイルを一覧表示します。




=== NFSクライアントを構成する

NFS クライアントを構成するには、次の手順を実行します。

. GPFSをNFSとしてエクスポートするには、 `/etc/exports`ファイル。
. NFS クライアント サービスを開始します。
. NFS クライアントで NFS プロトコルを介して GPFS をマウントします。
. NFS マウントされたフォルダー内の GPFS ファイルのリストを検証します。
. XCP を使用して、GPFS からエクスポートされた NFS からNetApp NFS にデータを移動します。
. NFS クライアント上の GPFS ファイルを検証します。

