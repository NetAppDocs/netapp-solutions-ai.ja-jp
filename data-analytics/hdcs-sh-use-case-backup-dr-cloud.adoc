---
sidebar: sidebar 
permalink: data-analytics/hdcs-sh-use-case-backup-dr-cloud.html 
keywords: cloud-based analytics, apache spark, hadoop, ebs, hdfs 
summary: このユースケースは、クラウドベースの分析データをオンプレミスのデータセンターにバックアップする必要がある放送業界の顧客に基づいています。 
---
= ユースケース 2: クラウドからオンプレミスへのバックアップと災害復旧
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
このユースケースは、下の図に示すように、クラウドベースの分析データをオンプレミスのデータセンターにバックアップする必要がある放送業界の顧客に基づいています。

image:hdcs-sh-009.png["入出力ダイアログまたは書かれたコンテンツを示す図"]



== シナリオ

このシナリオでは、IoT センサー データがクラウドに取り込まれ、AWS 内のオープン ソース Apache Spark クラスターを使用して分析されます。要件は、処理されたデータをクラウドからオンプレミスにバックアップすることです。



== 要件と課題

このユースケースの主な要件と課題は次のとおりです。

* データ保護を有効にしても、クラウド内の本番環境の Spark/Hadoop クラスターのパフォーマンスには影響しません。
* クラウド センサー データは、効率的かつ安全な方法でオンプレミスに移動され、保護される必要があります。
* オンデマンド、瞬時、クラスター負荷が低い時間など、さまざまな条件下でクラウドからオンプレミスにデータを転送する柔軟性。




== 解決策

顧客は、Spark クラスターの HDFS ストレージに AWS Elastic Block Store (EBS) を使用して、Kafka を介してリモート センサーからデータを受信して取り込みます。したがって、HDFS ストレージはバックアップ データのソースとして機能します。

これらの要件を満たすために、 NetApp ONTAP Cloud が AWS に導入され、Spark/Hadoop クラスターのバックアップ ターゲットとして機能する NFS 共有が作成されます。

NFS 共有が作成されたら、HDFS EBS ストレージからONTAP NFS 共有にデータをコピーします。データがONTAP Cloud の NFS に保存された後、 SnapMirrorテクノロジーを使用して、必要に応じてクラウドのデータをオンプレミスのストレージに安全かつ効率的にミラーリングできます。

この画像は、クラウドからオンプレミス ソリューションへのバックアップと災害復旧を示しています。

image:hdcs-sh-010.png["入出力ダイアログまたは書かれたコンテンツを示す図"]
